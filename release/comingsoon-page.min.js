"use strict";var $=jQuery.noConflict();function dropdowEcs(){Ecsgroup.isMobile&&(Ecsgroup.$body.on("click",'[data-toggle="dropdown"]',function(e){Ecsgroup.$body.addClass("dropdown-active").append('<div id="dropdown-mobile-wrapper" class="dropdown-remove"><a class="dropdown-remove" href="javascript:">Hủy</a></div><div class="dropdown-backdrop backdrop dropdown-remove"></div>'),$(this).parent().find(".dropdown-box").clone().appendTo("#dropdown-mobile-wrapper"),e.preventDefault()}),Ecsgroup.$body.on("click",function(e){$(e.target).hasClass("backdrop")&&Ecsgroup.$body.removeClass("dropdown-active").find(".dropdown-remove").remove()}))}function scrollTopEcs(){var e=Ecsgroup.byId("scroll-top");e.addEventListener("click",function(e){$("html, body").animate({scrollTop:0},600),e.preventDefault()});var t=function(){if(window.pageYOffset>400){e.classList.add("show");var t=$(document).height(),i=Ecsgroup.$window.height(),s=Ecsgroup.$window.scrollTop()/(t-i)*214;$("#progress-indicator").length>0&&$("#progress-indicator").css("stroke-dasharray",s+", 400")}else e.classList.remove("show")};Ecsgroup.call(t,500),window.addEventListener("scroll",t,{passive:!0})}function TypeWriter(e){return this.init(e)}function selectEcs(e){$(e).each(function(e){selectEcs.init(this)}),Ecsgroup.$body.on("click",function(e){$(e.target).closest(".custom-select").is(".active")&&!$(e.target).hasClass("custom-select-backdrop")||selectEcs.closeAll()}),Ecsgroup.$body.on("click",".custom-select-header",function(e){var t=this.closest(".custom-select");e.stopPropagation(),window.innerHeight-t.getBoundingClientRect().bottom<300?$(t).addClass("custom-select-top"):$(t).removeClass("custom-select-top"),$(t).hasClass("active")?selectEcs.closeAll():selectEcs.open(t)}),Ecsgroup.$body.on("click",".custom-select-body li",function(e){var t=this.closest(".custom-select");if(e.stopPropagation(),!$(this).hasClass("disabled")){$(this).addClass("active").siblings().removeClass("active");var i=$(this).data("value"),s=$(this).text();selectEcs.closeAll(),selectEcs.selectVal(t,i,s)}}),Ecsgroup.$body.on("keyup",".custom-select-search input",function(e){var t=this.closest(".custom-select");selectEcs.searchText($(this),t)})}$.extend($.easing,{def:"easeOutQuad",swing:function(e,t,i,s,o){return $.easing[$.easing.def](e,t,i,s,o)},easeOutQuad:function(e,t,i,s,o){return-s*(t/=o)*(t-2)+i},easeOutQuint:function(e,t,i,s,o){return s*((t=t/o-1)*t*t*t*t+1)+i}}),window.Ecsgroup={},function(e){Ecsgroup.domain="localhost:3000",Ecsgroup.linkWishList="/san-pham-yeu-thich",Ecsgroup.linkCompare="/so-sanh",Ecsgroup.popupPause=!1,Ecsgroup.$window=e(window),Ecsgroup.$body=e(document.body),Ecsgroup.$main=e(document.body).find("main"),Ecsgroup.status="",Ecsgroup.isIE=navigator.userAgent.indexOf("Trident")>=0,Ecsgroup.isEdge=navigator.userAgent.indexOf("Edge")>=0,Ecsgroup.isSafari=navigator.userAgent.indexOf("Safari")>=0&&navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("FxiOS")<0,Ecsgroup.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ecsgroup.call=function(e,t){setTimeout(e,t)},Ecsgroup.mq=function(e,t){document.documentElement.clientWidth},Ecsgroup.parseOptions=function(e){return"string"==typeof e?JSON.parse(e.replace(/'/g,'"').replace(";","")):{}},Ecsgroup.parseTemplate=function(e,t){return e.replace(/\{\{(\w+)\}\}/g,function(){return t[arguments[1]]})},Ecsgroup.byId=function(e){return document.getElementById(e)},Ecsgroup.byTag=function(e,t){return t?t.getElementsByTagName(e):document.getElementsByTagName(e)},Ecsgroup.byClass=function(e,t){return t?t.getElementsByClassName(e):document.getElementsByClassName(e)},Ecsgroup.setCookie=function(e,t,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),document.cookie=e+"="+t+";expires="+s.toUTCString()+";path=/"},Ecsgroup.getCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),s=0;s<i.length;++s){for(var o=i[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},Ecsgroup.removeCookie=function(e){document.cookie=e+";Max-Age=-99999999;"},Ecsgroup.$=function(t){return t instanceof jQuery?t:e(t)},Ecsgroup.isOnScreen=function(e){var t=window.pageXOffset,i=window.pageYOffset,s=e.getBoundingClientRect(),o=s.left+t,n=s.top+i;return n+s.height>=i&&n<=i+window.innerHeight&&o+s.width>=t&&o<=t+window.innerWidth},Ecsgroup.appear=function(t,i,s){return s&&Object.keys(s).length&&e.extend(intersectionObserverOptions,s),new IntersectionObserver(function(t){for(var s=0;s<t.length;s++){var o=t[s];o.intersectionRatio>0&&("string"==typeof i?Function("return "+functionName)():i.call(e(o.target)))}},{rootMargin:"0px 0px 200px 0px",threshold:0,alwaysObserve:!0}).observe(t),this},Ecsgroup.requestTimeout=function(e,t){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(!i)return setTimeout(e,t);var s,o=new Object;return o.val=i(function n(a){s||(s=a),a-s>=t?e():o.val=i(n)}),o},Ecsgroup.requestInterval=function(e,t,i){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(!s)return i?setInterval(e,t):setTimeout(e,i);var o,n,a=new Object;return a.val=s(function r(c){o||(o=n=c),!i||c-o<i?c-n>t?(e(),a.val=s(r),n=c):a.val=s(r):e()}),a},Ecsgroup.deleteTimeout=function(e){if(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame;return t?e.val?t(e.val):void 0:clearTimeout(e)}},Ecsgroup.windowResized=function(e){return e==Ecsgroup.resizeTimeStamp?Ecsgroup.resizeChanged:(Ecsgroup.resizeChanged=Ecsgroup.canvasWidth!=window.innerWidth,Ecsgroup.canvasWidth=window.innerWidth,Ecsgroup.resizeTimeStamp=e,Ecsgroup.resizeChanged)},Ecsgroup.debounce=function(e,t=1e3){var i;return function(){var s=this,o=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(s,o)},t)}},Ecsgroup.alert=function(t){Ecsgroup.$body.on("click",t+" .btn-close",function(i){i.preventDefault(),e(this).closest(t).fadeOut(function(){e(this).remove()})})};var t={get:function(e){return JSON.parse(window.localStorage.getItem(e))},set:function(e,t){var i=new Array;null!=window.localStorage.getItem(e)&&(i=JSON.parse(window.localStorage.getItem(e))),i.includes(t)||i.push(t),window.localStorage.setItem(e,JSON.stringify(i))},remove:function(e){window.localStorage.removeItem(e)},clear:function(){window.localStorage.clear()}};Ecsgroup.localStorage=t,Ecsgroup.backToUrl=function(e){Ecsgroup.$body.on("click",e,function(e){e.preventDefault();var t=document.referrer;document.referrer||1!=/Ecsgroup.domain/.test(document.referrer)?location.href="/":location.href=t})},Ecsgroup.showPassword=function(t){Ecsgroup.$body.on("click",t,function(t){t.preventDefault();var i=e(this).prev();"password"==i.attr("type")?(e(this).removeClass("cus-eye"),i.attr("type","text"),e(this).addClass("cus-eye-off")):(e(this).removeClass("cus-eye-off"),i.attr("type","password"),e(this).addClass("cus-eye"))})},Ecsgroup.initNotificationAlert=function(){Ecsgroup.$body.hasClass("has-notification")&&setTimeout(function(){Ecsgroup.$body.addClass("show-notification")},5e3)},Ecsgroup.lazyLoad=function(t,i,s="lazyload",o=" ls-is-cached lazyloaded"){function n(){this.setAttribute("src",this.getAttribute("data-src")),this.addEventListener("load",function(){this.style["padding-top"]="",e(this).removeClass(s),e(this).addClass(o)})}Ecsgroup.$(t).find(".lazy-img").each(function(){void 0!==i&&i?n.call(this):Ecsgroup.appear(this,n)})},Ecsgroup.showLoading=function(t){t||e(t).addClass("load-more-overlay loading"),Ecsgroup.byId("loading").style.display="block"},Ecsgroup.hideLoading=function(t){t||e(t).removeClass("load-more-overlay loading"),Ecsgroup.byId("loading").style.display="none"},Ecsgroup.showHide=function(t,i,s){e(i).toggleClass(s),null!=t?e(t).toggleClass(s):Ecsgroup.$body.on("click",function(t){e(t.target).is(".ishow")||e(i).removeClass(s)})},Ecsgroup.copyUrl=function(t){Ecsgroup.$body.on("click",t,function(t){t.preventDefault();var i=e(t.currentTarget),s=e('<input style="opacity:0;position absolute;z-index:-1;">'),o=i.data("text");e("body").append(s),s.val(o).select(),document.execCommand("copy"),s.remove(),Ecsgroup.Minipopup.open({productClass:" success minipopup-center",message:'<p><i class="demo-icon cus-ok-circled"></i>Copy thành công</p>',template:'<div class="minipopup-box {{productClass}}"><div class="minipopup-body"><div class="minipopup-content">{{message}}</div></div></div>'})})},Ecsgroup.animationOptions={name:"animate__fadeIn",duration:"1.2s",delay:".2s"},Ecsgroup.appearAnimate=function(t){Ecsgroup.$(t).each(function(){var t=this;Ecsgroup.appear(t,function(){if(t.classList.contains("appear-animate")){var i=e.extend({},Ecsgroup.animationOptions,Ecsgroup.parseOptions(t.getAttribute("data-animation-options")));setTimeout(function(){t.style["animation-duration"]=i.duration,t.classList.add(i.name),t.classList.add("appear-animation-visible")},i.delay?1e3*Number(i.delay.slice(0,-1)):0)}})})}}(jQuery),jQuery,Ecsgroup.prepare=function(){Ecsgroup.showLoading()},Ecsgroup.initLayout=function(){},Ecsgroup.init=function(){Ecsgroup.appearAnimate(".appear-animate"),Ecsgroup.setTab(".nav-tabs-js"),Ecsgroup.stickyContent(".sticky-header-mobile",{minWidth:0,maxWidth:768}),Ecsgroup.scrollDirection(".sticky-header-mobile","hidden"),Ecsgroup.stickyContent(".sticky-header"),Ecsgroup.menu.init(),Ecsgroup.initScrollTopButton(),Ecsgroup.accordion(".accordion-header > a"),Ecsgroup.initPopup(),Ecsgroup.showHide(),Ecsgroup.initDropdownAction(),Ecsgroup.Minipopup.init(),Ecsgroup.preSearch(".pre-search"),Ecsgroup.typeWriter(".typewrite"),Ecsgroup.cutomizeSelect(".custom-select")},jQuery,Ecsgroup.prepare(),document.onreadystatechange=function(){"complete"===document.readyState&&1==Ecsgroup.isSafari&&addCSS("/release/safari.css")},window.onload=function(){Ecsgroup.canvasWidth=window.innerWidth,Ecsgroup.resizeTimeStamp=0,Ecsgroup.resizeChanged=!1,Ecsgroup.status="loaded",document.body.classList.add("loaded"),Ecsgroup.call(Ecsgroup.initLayout),Ecsgroup.call(Ecsgroup.init),Ecsgroup.call(Ecsgroup.initPage),Ecsgroup.status="complete",Ecsgroup.$window.trigger("Ecsgroup_complete"),Ecsgroup.hideLoading()},Ecsgroup.setTab=function(e){Ecsgroup.$body.on("click",".tab-js .nav-link",function(e){var t=$(this);if(e.preventDefault(),!t.hasClass("active")){var i=$(t.attr("href"));i.siblings(".active").removeClass("in active"),i.addClass("active in"),t.parent().parent().find(".active").removeClass("active"),t.addClass("active")}}).on("click",".link-to-tab-js",function(e){var t=$(e.currentTarget).attr("href"),i=$(t),s=i.parent().siblings(".nav");e.preventDefault(),i.siblings().removeClass("active in"),i.addClass("active in"),s.find(".nav-link").removeClass("active"),s.find('[href="'+t+'"]').addClass("active"),$("html").animate({scrollTop:i.offset().top-150})})},Ecsgroup.initDropdownAction=dropdowEcs,Ecsgroup.initScrollTopButton=scrollTopEcs,Ecsgroup.stickyDefaultOptions={minWidth:992,maxWidth:2e4,top:!1,hide:!1,scrollMode:!0},Ecsgroup.stickyToolboxOptions={minWidth:0,maxWidth:767,top:!1,scrollMode:!1},Ecsgroup.stickyProductOptions={minWidth:0,maxWidth:2e4,scrollMode:!0,top:!1,hide:!1},Ecsgroup.stickyContent=function(){function e(e,t){return this.init(e,t)}function t(){Ecsgroup.$window.trigger("sticky_refresh.Ecsgroup",{index:0,offsetTop:0})}function i(e){e&&!Ecsgroup.windowResized(e.timeStamp)||(Ecsgroup.$window.trigger("sticky_refresh_size.Ecsgroup"),t())}return e.prototype.init=function(e,t){this.$el=e,this.options=$.extend(!0,{},Ecsgroup.stickyDefaultOptions,t,Ecsgroup.parseOptions(e.attr("data-sticky-options"))),Ecsgroup.$window.on("sticky_refresh.Ecsgroup",this.refresh.bind(this)).on("sticky_refresh_size.Ecsgroup",this.refreshSize.bind(this))},e.prototype.refreshSize=function(e){var t=window.innerWidth>=this.options.minWidth&&window.innerWidth<=this.options.maxWidth;this.scrollPos=window.pageYOffset,void 0===this.top&&(this.top=this.options.top),window.innerWidth>=768&&this.getTop?this.top=this.getTop():this.options.top||(this.top=this.isWrap?this.$el.parent().offset().top:this.$el.offset().top+this.$el[0].offsetHeight,this.$el.hasClass("has-dropdown")&&(this.top+=this.$el.find("#nav-sidebar .dropdown-box")[0]?this.$el.find("#nav-sidebar .dropdown-box")[0].offsetHeight:0)),this.isWrap?t||this.unwrap():t&&this.wrap(),Ecsgroup.sticky_top_height=0,e&&setTimeout(this.refreshSize.bind(this),50)},e.prototype.wrap=function(){this.$el.wrap('<div class="sticky-content-wrapper"></div>'),this.isWrap=!0},e.prototype.unwrap=function(){this.$el.unwrap(".sticky-content-wrapper"),this.isWrap=!1},e.prototype.refresh=function(e,t){var i=window.pageYOffset+t.offsetTop,s=this.$el;this.refreshSize(),i>this.top&&this.isWrap?(this.height=s[0].offsetHeight,s.hasClass("fixed")||s.parent().css("height",this.height+"px"),s.hasClass("fix-top")?(s.css("margin-top",t.offsetTop+"px"),this.zIndex=this.options.max_index-t.index):s.hasClass("fix-bottom")&&(s.css("margin-bottom",t.offsetBottom+"px"),this.zIndex=this.options.max_index-t.index),this.options.scrollMode?(this.scrollPos>=i&&s.hasClass("fix-top")||this.scrollPos<=i&&s.hasClass("fix-bottom")?(s.addClass("fixed"),this.onFixed&&this.onFixed(),s.hasClass("product-sticky-content")&&Ecsgroup.$body.addClass("addtocart-fixed")):(s.removeClass("fixed").css("margin-top","").css("margin-bottom",""),this.onUnfixed&&this.onUnfixed(),s.hasClass("product-sticky-content")&&Ecsgroup.$body.removeClass("addtocart-fixed")),this.scrollPos=i):(s.addClass("fixed"),this.onFixed&&this.onFixed()),s.is(".fixed.fix-top")?(t.offsetTop+=s[0].offsetHeight,Ecsgroup.sticky_top_height=t.offsetTop):s.is(".fixed.fix-bottom")&&(t.offsetBottom+=s[0].offsetHeight)):(s.parent().css("height",""),s.removeClass("fixed").css({"margin-top":"","margin-bottom":"","z-index":""}),this.onUnfixed&&this.onUnfixed(),s.hasClass("product-sticky-content")&&Ecsgroup.$body.removeClass("addtocart-fixed"))},Ecsgroup.$window.on("Ecsgroup_complete",function(){window.addEventListener("scroll",t,{passive:!0}),Ecsgroup.$window.on("resize",i),setTimeout(function(){i()},300)}),function(t,i){Ecsgroup.$(t).each(function(){var t=$(this);t.data("sticky-content")||t.data("sticky-content",new e(t,i))})}}(),Ecsgroup.scrollDirection=function(e,t){var i=Ecsgroup.$(e),s=!1,o=$(document).height(),n=Ecsgroup.$window.height(),a=t,r=0,c=10,l=150;function d(){var e=Ecsgroup.$window.scrollTop();!function(e){r-e>c||0==r?i.removeClass(a):e-r>c&&e>l&&(e+n+200>=o&&i.hasClass(a)?i.removeClass(a):i.addClass(a))}(e),r=e,s=!1}Ecsgroup.$window.on("scroll",function(){s||(s=!0,window.requestAnimationFrame?requestAnimationFrame(d):setTimeout(d,250))})},TypeWriter.defaults={period:5e3},TypeWriter.prototype.init=function(e){var t=$.extend(!0,{},TypeWriter.defaults),i=Ecsgroup.parseOptions(e.attr("data-typewriter-value"));$.extend(!0,t,Ecsgroup.parseOptions(e.attr("data-typewriter-options"))),this.el=e,this.toRotate=i,this.loopNum=0,this.period=parseInt(t.period,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1},TypeWriter.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el[0].innerHTML='<span class="wrap">'+this.txt+"</span>";var i=this,s=200-100*Math.random();this.isDeleting&&(s/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,s=500):(s=this.period,this.isDeleting=!0),setTimeout(function(){i.tick()},s)},Ecsgroup.typeWriter=function(e){Ecsgroup.$(e).each(function(){var e=$(this);Ecsgroup.call(function(){new TypeWriter(e)})})},Ecsgroup.initFloatingParallax=function(e){$.fn.parallax&&Ecsgroup.$(e).each(function(e){var t=$(this);t.data("parallax")&&(t.parallax("disable"),t.removeData("parallax"),t.removeData("options")),t.children().addClass("layer").attr("data-depth",t.attr("data-child-depth")),t.parallax(Ecsgroup.parseOptions(t.data("options")))})},Ecsgroup.isotopeOptions={itemsSelector:".grid-item",layoutMode:"fitRows",percentPosition:!0},Ecsgroup.isotopes=function(e,t){if("function"==typeof imagesLoaded&&$.fn.isotope){var i=this;Ecsgroup.$(e).each(function(){var s=$(this),o=$.extend(!0,{},i.isotopeOptions,Ecsgroup.parseOptions(s.attr("data-grid-options")),t||{});Ecsgroup.$(e).find("img").each(function(e){}),s.imagesLoaded(function(){o.customInitHeight&&s.height(s.height()),o.customDelay&&Ecsgroup.call(function(){s.isotope(o)},parseInt(o.customDelay)),s.isotope(o)})})}},Ecsgroup.initNavFilter=function(e){$.fn.isotope&&Ecsgroup.$(e).on("click",function(e){var t=$(this),i=t.attr("data-filter"),s=t.parent().parent().attr("data-target");$(s||".grid").isotope({filter:i}).isotope("on","arrangeComplete",function(){Ecsgroup.$window.trigger("appear.check")}),t.parent().siblings().children().removeClass("active"),t.addClass("active"),e.preventDefault()})},Ecsgroup.ratingTooltip=function(e){for(var t=Ecsgroup.byClass("ratings-full",e||document.body),i=t.length,s=function(){var e=parseInt(this.firstElementChild.style.width.slice(0,-1))/20;this.lastElementChild.innerText=e?e.toFixed(2):e},o=0;o<i;++o)t[o].addEventListener("mouseover",s),t[o].addEventListener("touchstart",s,{passive:!0})},selectEcs.init=function(e){var t=e,i=$(t).find("select"),s=$(i).val(),o=$(i).find("option[selected]");if(i.css({position:"absolute",visibility:"hidden",opacity:0,"z-index":-99}),0==$(t).find(".custom-select-header").length){for(var n=$(i).attr("id"),a=i[0].options.length,r='<div class="custom-select-header" data-id="'+n+'"><span></span></div><div class="custom-select-body"><ul>',c=0;c<a;c++)r+='<li data-value="'+i[0].options[c].value+'">'+i[0].options[c].innerHTML+"</li>";r+='</ul></div><div class="custom-select-backdrop"></div>',$(t).append(r)}if(0!=o.length||null!=s&&""!=s||($(i).find("option").first().attr("selected",!0),o=$(i).find("option[selected]")),null!=s||""!=s){var l=i.find('option[value="'+s+'"]').attr("selected","selected");$(t).find(".custom-select-header span").text($(l).text())}i.find("option").each(function(e){var i=$(this).attr("value"),s=$(this).attr("selected"),o=$(this).attr("disabled");s&&$(t).find('.custom-select-body li[data-value="'+i+'"]').addClass("active"),!s&&o&&$(t).find('.custom-select-body li[data-value="'+i+'"]').addClass("disabled")})},selectEcs.open=function(e){var t=$(e).find("input");Ecsgroup.$body.addClass("select-active"),selectEcs.closeAll(),$(e).hasClass("active")||($(e).addClass("active"),t.length>0&&document.documentElement.clientWidth>1199&&t.focus())},selectEcs.close=function(e){var t=$(e).data("id");$(".custom-select:not(#"+t+")").each(function(){$(this).removeClass("active")})},selectEcs.closeAll=function(){Ecsgroup.$body.removeClass("select-active"),$(".custom-select").each(function(){$(this).removeClass("active")})},selectEcs.selectVal=function(e,t,i){var s=$(e).find("select");s.val(t),s.triggerHandler("change"),$(e).find(".custom-select-header span").text(i)},selectEcs.cleanUnicode=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/đ/g,"d")).replace(/!|@@|\$|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\'| |\"|\&|\#|\[|\]|\;|\||\{|\}|\~|\“|\”|\™|\–|\-/g,"-")).replace(/^\-+|\-+$/g,"")).replace(/\\/g,"")).replace(/-+-/g,"-")},selectEcs.searchText=function(e,t){var i,s,o,n,a=e,r=$(t).find("ul").find("li"),c=0;for(i=cleanUnicode(a.val()),o=0;o<r.length;o++)n=(s=r[o]).textContent||s.innerText,cleanUnicode(n).indexOf(i)>-1?(s.style.display="",c+=1):s.style.display="none";0==c?$(t).find(".custom-select-search-info").show():$(t).find(".custom-select-search-info").hide()},selectEcs.destroy=function(e){var t=e;$(t).find("select").attr("style",""),$(t).find("> div").remove()},Ecsgroup.cutomizeSelect=function(e){return new selectEcs(e)},Ecsgroup.setProgressBar=function(e){Ecsgroup.$(e).each(function(){var e=$(this),t=e.parent().find("mark")[0].innerHTML,i="";-1!=t.indexOf("%")?i=t:-1!=t.indexOf("/")&&(i=(i=parseInt(t.split("/")[0])/parseInt(t.split("/")[1])*100).toFixed(2).toString()+"%"),e.find("span").css("width",i)})};var accordionOption={classParent:".accordion",classItem:".accordion-item"};function accordionEcs(e){Ecsgroup.$body.on("click",e,function(e){var i=$(this),s=i.closest(accordionOption.classItem).find(i.attr("href")),o=i.closest(accordionOption.classParent);e.preventDefault(),0===o.find(".collapsing").length&&0===o.find(".expanding").length&&(s.hasClass("expanded")?o.hasClass("radio-type")||t(s):s.hasClass("collapsed")&&(o.find(".expanded").length>0?Ecsgroup.isIE?t(o.find(".expanded"),function(){t(s)}):(t(o.find(".expanded")),t(s)):t(s)))});var t=function(t,i){var s=t.closest(accordionOption.classItem).find(e);t.hasClass("expanded")?(s.removeClass("collapse").addClass("expand"),t.addClass("collapsing").slideUp(300,function(){t.removeClass("expanded collapsing").addClass("collapsed"),i&&i()})):t.hasClass("collapsed")&&(s.removeClass("expand").addClass("collapse"),t.addClass("expanding").slideDown(300,function(){t.removeClass("collapsed expanding").addClass("expanded"),i&&i()}))}}function countDownEcs(e){$.fn.countdown&&Ecsgroup.$(e).each(function(){var e=[],t=[];$(this).data("labels-short")?$(this).data("labels-short").split(", ").forEach(t=>e.push(t)):e=[],$(this).data("compact-labels")?$(this).data("compact-labels").split("|").forEach(e=>t.push(e)):t=[];var i=$(this),s=i.data("until"),o=i.data("compact"),n=i.data("format")?i.data("format"):"DHMS",a=i.data("compact-labels")?t:[" y"," m"," w"," days, "],r=i.data("labels-short")?e:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"];if(i.data("relative"))l=s;else var c=s.split(", "),l=new Date(c[0],c[1]-1,c[2]);i.countdown({until:l,expiryText:" ",format:n,padZeroes:!0,compact:o,compactLabels:a,timeSeparator:" : ",labels:r})})}Ecsgroup.accordion=function(e){return new accordionEcs(e)},Ecsgroup.countDown=function(e){return new countDownEcs(e)},Ecsgroup.stickySidebarOptions={autoInit:!0,minWidth:991,containerSelector:".sticky-sidebar-wrapper",autoFit:!0,activeClass:"sticky-sidebar-fixed",top:0,bottom:0},Ecsgroup.stickySidebar=function(e){if($.fn.themeSticky){var t=0;function i(){Ecsgroup.$(e).trigger("recalc.pin"),Ecsgroup.$window.trigger("appear.check")}!$(".sticky-sidebar-notop").length&&Ecsgroup.$window.width()>=992&&$(".sticky-content.fix-top").each(function(e){if(!$(this).hasClass("sticky-toolbox")){var i=$(this).hasClass("fixed");t+=$(this).addClass("fixed").outerHeight(),i||$(this).removeClass("fixed")}}),Ecsgroup.$(e).each(function(){var e=$(this);e.themeSticky($.extend({},Ecsgroup.stickySidebarOptions,{padding:{top:t}},Ecsgroup.parseOptions(e.attr("data-sticky-options"))))}),setTimeout(i,300),Ecsgroup.$window.on("click",".tab .nav-link",function(){setTimeout(i)})}},Ecsgroup.zoomImageOptions={responsive:!0,borderSize:0,zoomType:"inner",onZoomIn:!0,magnify:1.1},Ecsgroup.zoomImageObjects=[],Ecsgroup.zoomImage=function(e){$.fn.zoom&&e&&("string"==typeof e?$(e):e).find("img").each(function(){var e=$(this);e.parent().css({display:"block",cursor:"zoom-in"}),Ecsgroup.zoomImageOptions.target=e.parent(),Ecsgroup.zoomImageOptions.url=e.attr("data-zoom-image"),e.parent().zoom(Ecsgroup.zoomImageOptions),Ecsgroup.zoomImageObjects.push(e)})},Ecsgroup.zoomImageOnResize=function(){Ecsgroup.zoomImageObjects.forEach(function(e){e.each(function(){var e=$(this).data("zoom");e&&e.refresh()})})};var fancyboxOptions={};function fancyBoxEcs(e){"undefined"!=typeof Fancybox&&Ecsgroup.$(e).each(function(){var e,t,i,s=$(this),o=$.extend(!0,{},fancyboxOptions,Ecsgroup.parseOptions(s.attr("data-fancybox-options")));(e=s.hasClass("swiper-container")?s.find(".swiper-slide:not(.cloned) picture img"):s.find("picture img, img")).length&&(t=e.map(function(){var e=$(this);return{src:e.attr("data-zoom-image"),type:"image",caption:e.attr("alt")}}).get()),s.find("[data-fancybox-target]").on("click",function(e){e.preventDefault(),i=$(this).data("fancybox-pos");var n=Fancybox.show(t,o);if(i>=0){var a=s.data("slider");Fancybox.getInstance().jumpTo(i),n.on("Carousel.selectSlide",(e,t,i)=>{a.slideTo(i.index)})}})})}function Popup(e,t,i){return this.init(e,t,i)}Ecsgroup.fancyBox=function(e){return new fancyBoxEcs(e)},Popup.defaults={infinite:!1,dragToClose:!1,on:{init:()=>{$("html").css("overflow-y","hidden"),$("body").css("overflow-x","visible"),$(".mfp-wrap").css("overflow","hidden auto"),$(".sticky-header.fixed").css("padding-right",window.innerWidth-document.body.clientWidth)},destroy:()=>{$("html").css("overflow-y",""),$("body").css("overflow-x","hidden"),$(".mfp-wrap").css("overflow",""),$(".sticky-header.fixed").css("padding-right","")}}},Popup.presets={quickview:{mainClass:"fancybox-product-popup fancybox-modal-popup fancybox-wrapper",showClass:"fancybox-fadeInUp",hideClass:"fancybox-fadeOutDown"},error:{mainClass:"fancybox-modal-popup fancybox-wrapper"},video:{type:"iframe",mainClass:"mfp-fade",preloader:!1,closeBtnInside:!1},login:{mainClass:"fancybox-login-popup fancybox-modal-popup fancybox-wrapper fancybox-modal-close",showClass:"fancybox-fadeInUp",hideClass:"fancybox-fadeOutDown",closeButton:!1,click:!1},modal:{mainClass:"fancybox-modal-popup fancybox-wrapper fancybox-modal-close",showClass:"fancybox-fadeInUp",hideClass:"fancybox-fadeOutDown"}},Popup.prototype.init=function(e,t,i){Fancybox.show(e,$.extend(!0,{},Popup.defaults,i?Popup.presets[i]:{},t))},Ecsgroup.popup=function(e,t,i){return new Popup(e,t,i)};var popupOptions={classHome:"home"};function popupEcs(e,t){"undefined"!=typeof Fancybox&&(Ecsgroup.$main.hasClass(popupOptions.classHome)&&Ecsgroup.byId("newsletter-popup")&&"true"!==Ecsgroup.getCookie("EcsHidePopup")&&setTimeout(function(){Ecsgroup.popupPause||Ecsgroup.popup([{src:"#newsletter-popup",type:"inline"}],{mainClass:"fancybox-modal-popup fancybox-wrapper",on:{closing:function(){$("#hide-newsletter-popup")[0].checked&&Ecsgroup.setCookie("EcsHidePopup",!0,7)}}})},7500),Ecsgroup.$body.on("click",".btn-iframe",function(e){e.preventDefault(),Ecsgroup.popupPause=!0,Ecsgroup.popup({items:{src:'<video src="'+$(e.currentTarget).attr("href")+'" autoplay loop controls>',type:"inline"},mainClass:"mfp-video-popup"},"video")}),Ecsgroup.$body.on("click",".sign-in-ajax",function(e){e.preventDefault(),Ecsgroup.popupPause=!0,Ecsgroup.popup([{src:$(e.currentTarget).attr("href"),type:"ajax"}],{on:{load:()=>{0==$("#loginjs").length&&addScript("/release/login-page.min.js","text/javascript","loginjs",!1)},reveal:(e,t)=>{0!=$("#loginjs").length&&$("#login-popup").removeClass("load-more-overlay loading")}}},"login")}).on("click",".register-ajax",function(e){e.preventDefault(),Ecsgroup.popupPause=!0,Ecsgroup.popup([{src:$(e.currentTarget).attr("href"),type:"ajax"}],{on:{load:()=>{0==$("#loginjs").length&&addScript("/release/login-page.min.js","text/javascript","loginjs",!1)},reveal:(e,t)=>{$(t.$content).find(".login-pane").removeClass("active"),$(t.$content).find("#sign-up").addClass("active"),0!=$("#loginjs").length&&$("#login-popup").removeClass("load-more-overlay loading")},shouldClose:()=>{if(1==$("#sign-up").hasClass("active")&&!confirm("Bạn có chắc chắn muốn rời khỏi hộp hội thoại này ngay bây giờ không"))return!1}}},"login")}),Ecsgroup.$body.on("click","[data-modal]",function(e){e.preventDefault();var t=$(e.currentTarget).data("target"),i=$(e.currentTarget).data("title");null!=i&&$(t).find('input[name="Title"]').val(i),Ecsgroup.popup([{src:$(e.currentTarget).data("target"),type:"inline"}],{},"modal")}),Ecsgroup.$body.on("click",".popup-close",function(e){e.preventDefault(),Fancybox.getInstance().close()}),Ecsgroup.confirmDialog=function(e,t,i){$("#confirm-modal p").text(e),Ecsgroup.popup([{src:"#confirm-modal",type:"inline"}],{closeButton:!1,click:!1,on:{done:(e,s)=>{$(s.$content).on("click",".popup-confirm",function(){"function"==typeof t&&t(i),Fancybox.getInstance().close(),$(document).off("keydown",o)}),$(s.$content).on("click",".popup-close",function(){$(document).off("keydown",o)});var o=function(e){return 13==e.keyCode?($(s.$content).find(".popup-confirm").click(),!1):27==e.keyCode?($(s.$content).find(".popup-close").click(),!1):void 0};$(document).on("keydown",o)}}},"modal")})}function countToEcs(e){$.fn.countTo&&Ecsgroup.$(e).each(function(){Ecsgroup.appear(this,function(){var e=$(this);setTimeout(function(){e.countTo({onComplete:function(){e.addClass("complete")}})},300)})})}Ecsgroup.initPopup=function(e,t){return new popupEcs(e,t)},Ecsgroup.countTo=function(e){return new countToEcs(e)},Ecsgroup.togglerMake=function(e){let t='Xem thêm <i class="demo-icon cus-down-open-mini"></i>';$(e).find(".toggler-wrap").each(function(){if($(this).find(".toggler-item").length>5){let e=$(this).find(".toggler-wrap-btn"),i=$(this);i.find(".toggler-item:not(:lt(5))").hide(),e.css("margin-top","1rem"),e.html(t),e.on("click",function(s){s.preventDefault(),i.find(".toggler-item:eq(5)").is(":hidden")?(i.find(".toggler-item:hidden").show(),e.html('Thu gọn <i class="demo-icon cus-up-open-mini"></i>')):(i.find(".toggler-item:not(:lt(5))").hide(),e.html(t))})}})};var minipopupOption={productClass:"",imageSrc:"",imageLink:"#",name:"",nameLink:"#",message:"",actionTemplate:"",isPurchased:!1,delay:4e3,space:20,template:'<div class="minipopup-box"><div class="product product-list-sm {{productClass}}"><figure class="product-media"><a href="{{imageLink}}"><img src="{{imageSrc}}" alt="Product" width="80" height="90" /></a></figure><div class="product-details"><h4 class="product-name"><a href="{{nameLink}}">{{name}}</a></h4>{{message}}</div></div><div class="product-action">{{actionTemplate}}</div></div>'},minipopupEcs=function(){var e,t=0,i=[],s=!1,o=[],n=!1,a=function(){if(!s)for(var e=0;e<o.length;++e)(o[e]-=200)<=0&&this.close(e--)};return{init:function(){var t=document.createElement("div");t.className="minipopup-area",Ecsgroup.byClass("page-wrapper")[0].appendChild(t),e=$(t),this.close=this.close.bind(this),a=a.bind(this)},open:function(s,r){var c,l=this,d=$.extend(!0,{},minipopupOption,s);c=$(Ecsgroup.parseTemplate(d.template,d)),l.space=d.space,c.appendTo(e).css("top",-t).find("img"),t+=c[0].offsetHeight+l.space,c.addClass("show"),c.offset().top-window.pageYOffset<0&&(l.close(),c.css("top",-t+c[0].offsetHeight+l.space)),c.on("mouseenter",function(){l.pause()}).on("mouseleave",function(){l.resume()}).on("touchstart",function(e){l.pause(),e.stopPropagation()}).on("mousedown",function(){$(this).addClass("focus")}).on("mouseup",function(){l.close($(this).index())}),Ecsgroup.$body.on("touchstart",function(){l.resume()}),i.push(c),o.length||(n=setInterval(a,200)),o.push(d.delay),r&&r(c)},close:function(e){var s=void 0===e?0:e,a=i.splice(s,1)[0];o.splice(s,1)[0];var r=a[0].offsetHeight;t-=r+this.space,a.removeClass("show"),setTimeout(function(){a.remove()},300),i.forEach(function(e,t){t>=s&&e.hasClass("show")&&e.stop(!0,!0).animate({top:parseInt(e.css("top"))+r+20},600,"easeOutQuint")}),i.length||clearTimeout(n)},pause:function(){s=!0},resume:function(){s=!1}}}();function preSearchEcs(e){var t=Ecsgroup.$(e);Ecsgroup.togglerMake(".search-result"),t.find('input[type="search"]').on("focusin",function(e){t.addClass("show"),$(".search-overwrap").addClass("show")}).on("keyup",function(e){t.find(".search-result-step2").show(),t.find(".search-result-step1").hide(),""===this.value?(t.find(".search-result-step2").hide(),t.find(".search-result-step1").show()):Ecsgroup.debounce(search(this.value))}).on("search",function(e){""===this.value&&(t.find(".search-result-step2").hide(),t.find(".search-result-step1").show())}),$(".search-overwrap").on("click",function(){$(this).removeClass("show"),t.removeClass("show")})}Ecsgroup.Minipopup=minipopupEcs,Ecsgroup.scrollTo=function(e,t){var i=void 0===t?0:t;if("number"==typeof e)o=e;else{var s=Ecsgroup.$(e);if(!s.length||"none"==s.css("display"))return;var o=s.offset().top;$(".sticky-content.fix-top.fixed").each(function(){o-=this.offsetHeight})}$("html,body").stop().animate({scrollTop:o},i)},Ecsgroup.preSearch=function(e){return new preSearchEcs(e)},Ecsgroup.readMore=function(e,t="Xem thêm nội dung",i="Thu gọn nội dung"){var s='<a href="javascript:" class="btn-readmore-js">'+t+"</a>",o='<a href="javascript:" class="btn-readmore-js">'+i+"</a>";Ecsgroup.$(e).each(function(){var e=$(this);e.height()>200&&(e.css({"max-height":"none","pointer-events":"none",height:"200px",overflow:"hidden"}),$('<div class="readmore-js open"></div>').html(s).insertAfter(e))}),Ecsgroup.$body.on("click",".btn-readmore-js",function(e){e.preventDefault();var t=$(this).parent(),i=t.prev();t.hasClass("open")?(i.css({"max-height":"none","pointer-events":"auto",height:"auto",overflow:"inherit"}),t.addClass("close").removeClass("open").html(o)):(i.css({"max-height":"none","pointer-events":"none",height:"200px",overflow:"hidden"}),t.addClass("open").removeClass("close").html(s)),$("html, body").animate({scrollTop:i.offset().top-200},{duration:100})})},Ecsgroup.tableOfContent=function(){var e=Ecsgroup.byId("widget-toc-fixed"),t=$(".sticky-header").height()+30;($(".widget-toc").length>0||null!=e)&&(Ecsgroup.$(".widget-toc").clone().appendTo("#widget-toc-fixed"),Ecsgroup.$("#widget-toc-fixed").find(".collapsible-title").addClass("collapsed"),$("#widget-toc-fixed .toggle-btn").on("click",function(e){var t=$(this).parent();t.siblings(".collapsible-body"),t.toggleClass("collapsed")}),$(".tableofcontent a").on("click",function(e){let i=$(this).attr("href"),s=Ecsgroup.$(i);Ecsgroup.$("#widget-toc-fixed").find(".collapsible-title").addClass("collapsed"),Ecsgroup.scrollTo(s.offset().top-t,600)}),window.addEventListener("scroll",function(){$(".readmore-js.open").length>0?e.classList.remove("show"):window.pageYOffset>Ecsgroup.$(".widget-toc").offset().top+Ecsgroup.$(".widget-toc").outerHeight()?(e.classList.add("show"),Ecsgroup.isMobile||(e.style.top=t+"px")):e.classList.remove("show")}),Ecsgroup.$body.on("click",function(e){$(e.target).closest("#widget-toc-fixed").length||Ecsgroup.$("#widget-toc-fixed").find(".collapsible-title").addClass("collapsed")}))};var hideMobileAllSubMenu=function(e){$("#nav-mobile-content .show").removeClass("show"),$("#nav-mobile-content .collapse-menu > .submenu").slideUp("300").parent().removeClass(".show"),$("#nav-mobile-content .scrollnotable").removeClass("scrollnotable")},hideMobileSubMenu=function(e){$(this).closest(".has-submenu").removeClass("show"),$(this).closest(".scrollnotable").removeClass("scrollnotable")},hideMobileSearch=function(e){$(this).removeClass("show"),Ecsgroup.$body.removeClass("msearch-active")},hideChat=function(e){$("#chat-scroll-block").removeClass("show")},showMobileMenu=function(e){hideMobileAllSubMenu(),hideMobileSearch(),Ecsgroup.$body.addClass("mmenu-active"),e.preventDefault()},toggleMobileMenu=function(e){$(this).toggleClass("show"),hideMobileAllSubMenu(),hideMobileSearch(),Ecsgroup.$body.toggleClass("mmenu-active"),e.preventDefault()},hideMobileMenu=function(e){$(".mobile-menu-btn").removeClass("show"),$("#nav-mobile-content .show").removeClass("show"),$("#nav-mobile-content .collapse-menu > .submenu").slideUp("300"),setTimeout(function(){Ecsgroup.$body.removeClass("mmenu-active")},150),e.preventDefault()},showMobileSubMenu=function(e){$(this).closest(".submenu").addClass("scrollnotable"),$(this).closest(".has-submenu").addClass("show"),e.preventDefault()},showMobileSearch=function(e){Ecsgroup.lazyLoad("#nav-mobile-search",!0),$(this).addClass("show"),$(".mobile-menu-btn").removeClass("show"),Ecsgroup.$body.addClass("msearch-active"),e.preventDefault()},showChat=function(e){$("#chat-scroll-block").addClass("show"),$("body").append('<div class="chat-scroll-backdrop chat-scroll-close show"></div>')},Menu={init:function(){this.initMenu(),this.initCategoryMenu(),this.initMobileMenu(),this.initMobileSearch(),this.initFilterMenu(),this.initCollapsibleWidget(),this.initShowChat()},initMenu:function(){function e(){$("#nav-pc .megamenu").each(function(){let e=$(this),t=$("#nav-sidebar").outerWidth(),i=e.closest(".nav-wrapper").width()-30-t;e.css("width",i+"px")})}function t(){$("#nav-pc .submenu").each(function(){let e=$(this),t=e.closest(".level1");e.offset().left+30+e.outerWidth()-window.innerWidth>0?t.addClass("right"):t.removeClass("right")})}$("#nav-pc .menu li").each(function(){!this.lastElementChild||"UL"!==this.lastElementChild.tagName&&!this.lastElementChild.classList.contains("megamenu")||$(this).parent().hasClass("megamenu")||(this.classList.add("has-submenu"),!this.lastElementChild.classList.contains("megamenu")&&this.lastElementChild.classList.add("submenu"))}),t(),e(),Ecsgroup.$window.on("resize",function(){t(),e()})},initCategoryMenu:function(){function e(){$("#nav-sidebar .submenu").each(function(){let e=$(this),t=e.closest(".level0"),i=e.closest(".level1");e.offset().top+e.outerHeight()-window.innerHeight>0?(t.addClass("top"),i.addClass("top")):(t.removeClass("top"),i.addClass("top"))})}e();var t=$("#nav-sidebar");if(t.length){var i=t.find(".dropdown-box");if(i.length){var s=$(".main").offset().top+i[0].offsetHeight;(window.pageYOffset<=s||window.innerWidth<992)&&t.removeClass("show"),window.addEventListener("scroll",function(){window.pageYOffset<=s&&window.innerWidth>=992&&t.removeClass("show")},{passive:!0}),$(".category-toggle").on("click",function(e){e.preventDefault()}),t.on("mouseover",function(e){t.hasClass("menu-fixed")&&window.pageYOffset>s&&window.innerWidth>=992?t.addClass("show"):!t.hasClass("menu-fixed")&&window.innerWidth>=992&&t.addClass("show")}),t.on("mouseleave",function(e){t.hasClass("menu-fixed")&&window.pageYOffset>s&&window.innerWidth>=992?t.removeClass("show"):!t.hasClass("menu-fixed")&&window.innerWidth>=992&&t.removeClass("show")})}}Ecsgroup.$window.on("resize",function(){e()})},initMobileMenu:function(){$("#nav-mobile-content .mobile-menu .submenu-btn").on("click",showMobileSubMenu),$("#nav-mobile-content .mobile-menu .submenu-btn-close").on("click",hideMobileSubMenu),$("#nav-mobile-content .mobile-menu .toggle-btn").on("click",function(e){$(this).toggleClass("show"),$(this).parent().next().slideToggle(300).parent().addClass(".show"),e.preventDefault()}),$(".mobile-menu-toggle").on("click",toggleMobileMenu),$(".mobile-menu-overlay").on("click",hideMobileMenu),$(".mobile-menu-close").on("click",hideMobileMenu),$(".mobile-menu-open").on("click",showMobileMenu),Ecsgroup.$window.on("resize",hideMobileMenu)},initMobileSearch:function(){$(".mobile-search-toggle").on("click",showMobileSearch),$(".mobile-search-toggle-close").on("click",hideMobileSearch)},initFilterMenu:function(){$(".search-ul li").each(function(){if(this.lastElementChild&&"UL"===this.lastElementChild.tagName){var e=document.createElement("i");e.className="la la-angle-down",this.classList.add("with-ul"),this.firstElementChild.appendChild(e)}}),$(".with-ul > a i").on("click",function(e){$(this).parent().next().slideToggle(300).parent().toggleClass("show"),e.preventDefault()})},initCollapsibleWidget:function(){$(".collapsible .toggle-btn").on("click",function(e){var t=$(this).parent(),i=t.siblings(".collapsible-body");t.hasClass("collapsed")||i.css("display","block"),Ecsgroup.isMobile?i.stop().toggle():i.stop().slideToggle(100),t.toggleClass("collapsed"),setTimeout(function(){$(".sticky-sidebar").trigger("recalc.pin")},300)})},initShowChat:function(){$(".btn-show-chat").on("click",showChat),Ecsgroup.$body.on("click",".chat-scroll-close",function(e){$("#chat-scroll-block").removeClass("show"),$(this).remove()})}};function QuantityInput(e){return this.init(e)}function checkBoxEcs(e){$(".filter-item").each(function(){var e=$(this).find("input");e.is(":checked")&&$('<a href="#" class="selected-item" data-id="'+e.attr("id")+'">'+$(this).text().split("(")[0]+'<i class="ecs-icon-times-solid"></i></a>').insertBefore(".selected-items .filter-clean").hide().fadeIn()}),$(".selected-items").children().length>1&&$(".selected-items").show(),$(".filter-item > label").on("click",function(e){var t=$(e.currentTarget),i=$(this).parent().find("input");i.prop("checked")?$(".selected-items > .selected-item").filter(function(e,t){return $(t).data("id")==i.attr("id")}).fadeOut(function(){$(this).remove(),$(".selected-items").children().length<2&&$(".selected-items").hide()}):($('<a href="javascript:" class="selected-item" data-id="'+i.attr("id")+'">'+t.text().split("(")[0]+'<i class="ecs-icon-times-solid"></i></a>').insertBefore($(".selected-items").children()[0]).hide().fadeIn(),$(".selected-items").show())}),$(".selected-items .filter-clean").on("click",function(e){var t=$(this);t.siblings().each(function(){$(this).data("id")}),t.parent().fadeOut(function(){t.siblings().remove()}),e.preventDefault()}),$(".filter-clean").on("click",function(t){$(".filter-item input:checked").prop("checked",!1),e(),t.preventDefault()}),Ecsgroup.$body.on("click",".selected-item i",function(t){$(t.currentTarget).parent().fadeOut(function(){var t=$(this),i=t.data("id");$("#"+i).prop("checked",!1),t.remove(),$(".selected-items").children().length<2&&$(".selected-items").hide(),e()}),t.preventDefault()})}function scrollLoadEcs(e,t){var i,s=Ecsgroup.$(e);s.length>0&&(i=s.offset().top,window.addEventListener("scroll",function(e){window.pageYOffset>i+s.outerHeight()-window.innerHeight&&"loading"!=s.attr("data-load-state")&&Ecsgroup.debounce(t(),1e3)},{passive:!0}))}Ecsgroup.menu=Menu,function(e){function t(e,t){return this.init(e,t)}var i=function(e){var t,i=this.firstElementChild.firstElementChild.children,s=i.length;for(t=0;t<s;++t)if(!i[t].classList.contains("active")){var o,n=Ecsgroup.byClass("appear-animate",i[t]);for(o=n.length-1;o>=0;--o)n[o].classList.remove("appear-animate")}},s=function(t){Ecsgroup.$window.trigger("appear.check");var i=e(t.currentTarget),s=i.find(".swiper-slide.active video");i.find(".swiper-slide:not(.swiper-slide-active) video").each(function(){this.paused||i.trigger("autoplayStart"),this.pause(),this.currentTime=0}),s.length&&(!0===i.data("slider").options.autoplay&&i.trigger("autoplayStop"),s.each(function(){this.paused&&this.play()}))},o=function(t){e(this.wrapperEl).find(".swiper-slide-active .slide-animate").each(function(){var t=e(this);t.addClass("show-content"),t.attr("style","")})};t.defaults={slidesPerView:1,speed:300,lazy:!0},t.presets={"product-thumbs-wrap":{slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,freeModeSticky:!0}},t.prototype.init=function(n,a){this.timers=[],this.translateFlag=0,this.prev=0,this.next=0,this.container=n[0],this.wrapperEl=n.children()[0];var r=n.children(".swiper-button-next"),c=n.children(".swiper-button-prev"),l=n.children(".swiper-pagination"),d=n.children(".custom-dots");if(!n.data("slider")){var p=n.attr("class").split(" "),u=e.extend(!0,{},t.defaults);p.forEach(function(i){var s=t.presets[i];s&&e.extend(!0,u,s)}),r.length&&e.extend(!0,u,{navigation:{nextEl:r[0]}}),c.length&&e.extend(!0,u,{navigation:{prevEl:c[0]}}),l.length&&e.extend(!0,u,{pagination:{el:l[0],clickable:!0}}),n.find("video").each(function(){this.loop=!1}),e.extend(!0,u,Ecsgroup.parseOptions(n.attr("data-swiper-options")),a),function(e){var t=this.wrapperEl,i=t.getAttribute("class");if(i.match(/row|gutter\-\w\w|cols\-\d|cols\-\w\w-\d/g)&&t.setAttribute("class",i.replace(/row|gutter\-\w\w|cols\-\d|cols\-\w\w-\d/g,"").replace(/\s+/," ")),t.classList.contains("animation-slider"))for(var s=t.children,o=s.length,n=0;n<o;++n)s[n].setAttribute("data-index",n+1)}.call(this),this.slider=new Swiper(this.container,u),n.data("slider",this.slider),n.trigger("initialized.slider",this.slider),this.slider.on("afterInit",i).on("transitionEnd",s),n.hasClass("animation-slider")&&function(){var t=this;e(this.wrapperEl).find(".swiper-slide-active .slide-animate").each(function(){var i=e(this),s=e.extend(!0,{},Ecsgroup.animationOptions,Ecsgroup.parseOptions(i.data("animation-options"))),o=s.duration,n=s.delay,a=s.name;setTimeout(function(){if(i.css("animation-duration",o),i.css("animation-delay",n),i.addClass(a),i.hasClass("maskLeft")){i.css("width","fit-content");var e=i.width();i.css("width",0).css("transition","width "+(o||"0.75s")+" linear "+(n||"0s")),i.css("width",e)}o=o||"0.75s";var s=Ecsgroup.requestTimeout(function(){i.addClass("show-content")},n?1e3*Number(n.slice(0,-1))+200:200);t.timers.push(s)},300)})}.call(this),n.hasClass("animation-slider")&&this.slider.on("resize",o).on("transitionStart",function(t){var i=e(this.wrapperEl);this.translateFlag=1,this.prev=this.next,i.find(".swiper-slide .slide-animate").each(function(){var t=e(this),i=e.extend(!0,{},Ecsgroup.animationOptions,Ecsgroup.parseOptions(t.data("animation-options")));t.removeClass(i.name)})}.bind(this)).on("transitionEnd",function(t){var i=this,s=e(this.wrapperEl);if(1==i.translateFlag){if(i.next=this.slider.activeIndex,s.find(".show-content").removeClass("show-content"),i.prev!=i.next){if(s.find(".show-content").removeClass("show-content"),s.hasClass("animation-slider")){for(var o=0;o<i.timers.length;o++)Ecsgroup.deleteTimeout(i.timers[o]);i.timers=[]}s.find(".swiper-slide-active .slide-animate").each(function(){var t=e(this),s=e.extend(!0,{},Ecsgroup.animationOptions,Ecsgroup.parseOptions(t.data("animation-options"))),o=s.duration,n=s.delay,a=s.name;t.css("animation-duration",o),t.css("animation-delay",n),t.css("transition-property","visibility, opacity"),t.css("transition-delay",n),t.css("transition-duration",o),t.addClass(a),o=o||"0.75s";var r=Ecsgroup.requestTimeout(function(){t.css("transition-property",""),t.css("transition-delay",""),t.css("transition-duration",""),t.addClass("show-content"),i.timers.splice(i.timers.indexOf(r),1)},n?1e3*Number(n.slice(0,-1))+500*Number(o.slice(0,-1)):500*Number(o.slice(0,-1)));i.timers.push(r)})}else s.find(".swiper-slide").eq(this.slider.activeIndex).find(".slide-animate").addClass("show-content");i.translateFlag=0}}.bind(this)),d.length&&(this.slider.on("transitionEnd",function(){var e=this.activeIndex;d.children("a:nth-child("+ ++e+")").addClass("active").siblings().removeClass("active")}),d.children("a").on("click",function(t){t.preventDefault();var i=e(this);if(!i.hasClass("active")){var s=i.index();i.closest(".swiper-container").data("slider").slideTo(s),i.addClass("active").siblings().removeClass("active")}}))}},Ecsgroup.slider=function(i,s={},o=!1){Ecsgroup.$(i).each(function(){var i=e(this);o?new t(i,s):Ecsgroup.call(function(){new t(i,s)})})},Ecsgroup.slider.pgToggle=function(){e(".swiper-container:not([class*='pg-']) .swiper-pagination").each(function(){var t=e(this);t.find("*").length<=1?t.css("display","none"):t.css("display","block")})}}(jQuery),function(e){function t(e){return this.init(e)}t.prototype.init=function(t){var i=this;return i.name=t,i.$sidebar=e("."+t),i.isNavigation=!1,i.$sidebar.length&&(Ecsgroup.$window.on("resize",function(e){Ecsgroup.windowResized(e.timeStamp)&&Ecsgroup.$body.removeClass(t+"-active")}),i.$sidebar.find(".sidebar-toggle, .sidebar-toggle-btn").add("sidebar"===t?".left-sidebar-toggle":"."+t+"-toggle").on("click",function(t){i.toggle(),e(this).blur(),t.preventDefault()}),i.$sidebar.find(".sidebar-overlay, .sidebar-close").on("click",function(e){Ecsgroup.$body.removeClass(t+"-active"),e.preventDefault()})),!1},t.prototype.toggle=function(){var e=992;this.$sidebar.hasClass("sidebar-switch-xl")&&(e=1200),window.innerWidth>=e&&this.$sidebar.hasClass("sidebar-fixed")||(this.$sidebar.find(".sidebar-overlay .sidebar-close").css("margin-left",-(window.innerWidth-document.body.clientWidth)),Ecsgroup.$body.toggleClass(this.name+"-active").removeClass("closed")),setTimeout(function(){Ecsgroup.$window.trigger("appear.check")},400)},Ecsgroup.sidebar=function(e){return(new t).init(e)}}(jQuery),function(e){var t={init:function(){this.initVariation(),Ecsgroup.wishlistAction(updateWishLst),Ecsgroup.$body.on("click",".btn-quickview",function(t){t.preventDefault(),Ecsgroup.popupPause=!0,e(t.currentTarget).addClass("load-more-overlay loading"),openProductPopup(t.currentTarget)}),function(){var t=new Array;null!=window.localStorage.getItem("comparelist")&&(t=JSON.parse(window.localStorage.getItem("comparelist")));var i,s,o=e(".page-wrapper > .compare-popup");function n(){o.find(".title").after('<p class="compare-count text-center text-light mb-0">('+i+" Sản phẩm)</p>"),o.find(".compare-count").length>1&&o.find("p:last-child").remove()}s='<div class="compare-popup">                            <div class="container">                                <div class="compare-title">                                    <h4 class="title title-center">So sánh sản phẩm</h4>                                </div>                                <ul class="compare-product-list list-style-none">                                    <li></li><li></li><li></li><li></li>                                </ul>                                <a href="javascript:" class="btn btn-clean">Xóa tất cả</a>                                <a href="'+Ecsgroup.linkCompare+'" class="btn btn-dark btn-rounded">So sánh ngay !</a>                            </div>                      </div>                      <div class="compare-popup-overlay"></div>',o.length||document.body.classList.contains("docs")||(e(".page-wrapper").append(s),o=e(".page-wrapper > .compare-popup")),Ecsgroup.$body.on("click",".product .btn-compare",function(s){var a=e(this);if(!a.hasClass("added")){s.preventDefault(),a.toggleClass("added").addClass("load-more-overlay loading"),setTimeout(function(){a.removeClass("load-more-overlay loading"),o.addClass("show")},500);var r=a.closest(".product").find("img").eq(0).attr("src"),c=a.data("id"),l=t.find((e,t)=>e.id===c);if(null!=l)l.image=r;else{var d={id:c,image:r};t.length>=4&&t.shift(),t.push(d)}Ecsgroup.setCookie("EcsCompareList",JSON.stringify(t),7),window.localStorage.setItem("comparelist",JSON.stringify(t)),t.forEach(function(t){e('body .btn-compare[data-id="'+t.id+'"]').removeClass("ecs-icon-compare").addClass("added ecs-icon-check-solid").attr("href",Ecsgroup.linkCompare)}),e(".compare-popup li").each(function(e){t[e]&&(this.innerHTML='<a href="product-default.html">                                <figure><img src="'+t[e].image+'"/></figure>                             </a>                             <a href="#" class="btn btn-remove"><i class="ecs-icon-times-solid"></i></a>')}),i=t.length,n()}}).on("click",".compare-popup .btn-remove",function(s){s.preventDefault();var a=e(s.currentTarget).closest("li"),r=a.index(),c=t[r].id;t.splice(r,1),3==r&&a.empty(),a.nextAll().each(function(){e(this).prev().html(e(this).html())}).last().empty(),i=t.length,n(),Ecsgroup.setCookie("EcsCompareList",JSON.stringify(t),7),window.localStorage.setItem("comparelist",JSON.stringify(t)),0==i&&o.removeClass("show"),e('body .btn-compare[data-id="'+c+'"]').removeClass("added ecs-icon-check-solid").addClass("ecs-icon-compare").attr("href","javascript:")}).on("click",".compare-popup .btn-clean",function(s){s.preventDefault(),e(".page-wrapper .product img").each(function(){var i=e(this),s=this.getAttribute("src");t.forEach(function(e){if(s==e){var t=i.closest(".product").find(".btn-compare");t.length&&(t.removeClass("added").attr("href","#"),t.toggleClass("ecs-icon-check-solid").toggleClass("ecs-icon-compare"))}})}),t.splice(0,4),i=t.length,e(this).parent().find(".compare-product-list li").empty(),n(),Ecsgroup.removeCookie("EcsCompareList"),Ecsgroup.localStorage.remove("comparelist"),o.removeClass("show"),e("body .btn-compare").removeClass("added ecs-icon-check-solid").addClass("ecs-icon-compare").attr("href","javascript:")}),Ecsgroup.$body.on("click",".compare-popup-overlay",function(){o.removeClass("show")})}()},initVariation:function(t){Ecsgroup.$body.on("click",".product:not(.product-single) .product-variations > a:not(.disabled)",function(t){t.preventDefault();var i=e(this),s=i.data("quantity"),o=i.data("id"),n=i.data("promo"),a=i.closest(".product"),r=a.find(".product-countdown"),c=a.find(".product-media .img img"),l=a.find(".btn-cart"),d=a.find(".btn-call");a.find(".product-media .img picture").not(":first").remove(),a.find(".product-media .img source").attr("srcset",""),l.data("id",o),r.countdown("destroy"),null!=n?(a.find(".product-countdown-container").removeClass("d-none"),r.data("until",n),Ecsgroup.countDown(r)):a.find(".product-countdown-container").addClass("d-none"),i.addClass("active").siblings().removeClass("active"),i.hasClass("active")&&(c.attr("src",i.data("src")),selectThumbSku(a,i.data("id"),i.data("url"))),s<=0?(l.addClass("d-invisible"),d.removeClass("d-invisible")):(d.addClass("d-invisible"),l.removeClass("d-invisible"))})}};Ecsgroup.shop=t}(jQuery),function(e){QuantityInput.min=1,QuantityInput.max=1e6,QuantityInput.value=1,QuantityInput.prototype.init=function(e){var t=this;t.$minus=!1,t.$plus=!1,t.$value=!1,t.value=!1,t.startIncrease=t.startIncrease.bind(t),t.startDecrease=t.startDecrease.bind(t),t.stop=t.stop.bind(t),t.min=parseInt(e.attr("min")),t.max=parseInt(e.attr("max")),t.min||e.attr("min",t.min=QuantityInput.min),t.max||e.attr("max",t.max=QuantityInput.max),t.$value=e.val(t.value=QuantityInput.value),t.$minus=e.parent().find(".quantity-minus").on("mousedown",function(e){e.preventDefault(),t.startDecrease()}).on("touchstart",function(e){e.cancelable&&e.preventDefault(),t.startDecrease()}).on("mouseup",t.stop),t.$plus=e.parent().find(".quantity-plus").on("mousedown",function(e){e.preventDefault(),t.startIncrease()}).on("touchstart",function(e){e.cancelable&&e.preventDefault(),t.startIncrease()}).on("mouseup",t.stop),Ecsgroup.$body.on("mouseup",t.stop).on("touchend",t.stop).on("touchcancel",t.stop)},QuantityInput.prototype.startIncrease=function(e){e&&e.preventDefault();var t=this;t.value=t.$value.val(),t.value<t.max&&t.$value.val(++t.value),t.increaseTimer=Ecsgroup.requestTimeout(function(){t.speed=1,t.increaseTimer=Ecsgroup.requestInterval(function(){t.$value.val(t.value=Math.min(t.value+Math.floor(t.speed*=1.05),t.max))},50)},400)},QuantityInput.prototype.startDecrease=function(e){e&&e.preventDefault();var t=this;t.value=t.$value.val(),t.value>t.min&&t.$value.val(--t.value),t.decreaseTimer=Ecsgroup.requestTimeout(function(){t.speed=1,t.decreaseTimer=Ecsgroup.requestInterval(function(){t.$value.val(t.value=Math.max(t.value-Math.floor(t.speed*=1.05),t.min))},50)},400)},QuantityInput.prototype.stop=function(e){Ecsgroup.deleteTimeout(this.increaseTimer),Ecsgroup.deleteTimeout(this.decreaseTimer)},Ecsgroup.initQtyInput=function(t){Ecsgroup.$(t).each(function(){var t=e(this);t.data("quantityInput")||t.data("quantityInput",new QuantityInput(t))})}}(jQuery),Ecsgroup.initSelectMenu=function(){Ecsgroup.$body.on("mousedown",".select-menu",function(e){var t=$(e.currentTarget),i=$(e.target),s=t.hasClass("opened");$(".select-menu").removeClass("opened"),t.is(i.parent())?(!s&&t.addClass("opened"),e.stopPropagation()):(i.parent().toggleClass("active"),i.parent().hasClass("active")?($(".selected-items").children().length<2&&$(".selected-items").show(),$('<a href="#" class="selected-item">'+i.text().split("(")[0]+'<i class="la la-close"></i></a>').insertBefore(".selected-items .filter-clean").hide().fadeIn().data("link",i.parent())):$(".selected-items > .selected-item").filter(function(e,t){return t.innerText==i.text().split("(")[0]}).fadeOut(function(){$(this).remove(),$(".selected-items").children().length<2&&$(".selected-items").hide()}))}),$(".selected-items .filter-clean").on("click",function(e){var t=$(this);t.siblings().each(function(){var e=$(this).data("link");e&&e.removeClass("active")}),t.parent().fadeOut(function(){t.siblings().remove()}),e.preventDefault()}),$(".filter-clean").on("click",function(e){$(".shop-sidebar .filter-items .active").removeClass("active"),e.preventDefault()}),Ecsgroup.$body.on("click",".select-menu a",function(e){e.preventDefault()}),Ecsgroup.$body.on("click",".selected-item i",function(e){$(e.currentTarget).parent().fadeOut(function(){var e=$(this),t=e.data("link");t&&t.toggleClass("active"),e.remove(),$(".select-items").children().length<2&&$(".select-items").hide()}),e.preventDefault()}),Ecsgroup.$body.on("mousedown",function(e){$(".select-menu").removeClass("opened")}),Ecsgroup.$body.on("click",".filter-items a",function(e){var t=$(this).closest(".filter-items");t.hasClass("search-ul")||t.parent().hasClass("select-menu")||($(this).parent().toggleClass("active"),e.preventDefault())})},Ecsgroup.initCheckBoxMenu=function(e){return new checkBoxEcs(e)},Ecsgroup.wishlistAction=function(e){Ecsgroup.$body.on("click",".btn-wishlist",function(t){var i=$(this),s=i.data("id");i.hasClass("added")||e(i,s)})},function(e){function t(e){return this.init(e)}var i=function(){this.$wrapper.find(".product-details").css("height",window.innerWidth>767?this.$wrapper.find(".product-gallery")[0].clientHeight:"")},s=function(t){t.preventDefault(),Ecsgroup.scrollTo(e('.product-tabs > .nav a[href="'+this.getAttribute("href")+'"]').trigger("click"))};t.prototype.init=function(t){var o=this,n=t.find(".product-single-swiper");o.$wrapper=t,o.isQuickView=!!t.closest(".fancybox__slide").length,o._isPgVertical=!1,o.isQuickView&&(i=i.bind(this)),function(e){e.$thumbs=e.$wrapper.find(".product-thumbs"),e.$thumbsWrap=e.$thumbs.parent(),e.$thumbUp=e.$thumbsWrap.find(".thumb-up"),e.$thumbDown=e.$thumbsWrap.find(".thumb-down"),e.$thumbsDots=e.$thumbs.children(),e.thumbsCount=e.$thumbsDots.length,e.$productThumb=e.$thumbsDots.eq(0),e._isPgVertical=e.$thumbsWrap.parent().hasClass("product-gallery-vertical"),e.thumbsIsVertical=e._isPgVertical&&window.innerWidth>=992,Ecsgroup.slider(e.$thumbsWrap,{},!0)}(o),o.$wrapper.on("click",".rating-reviews",s),"complete"===Ecsgroup.status&&(Ecsgroup.slider(n,{thumbs:{swiper:o.$thumbsWrap.data("slider")}}),Ecsgroup.initQtyInput(t.find(".quantity"))),n.length&&window.addEventListener("resize",function(){Ecsgroup.requestTimeout(function(){void 0!=n.data("slider")&&(n.data("slider").update(),o.$thumbsWrap.data("slider").update())},100)},{passive:!0}),o.$wrapper.find(".product-single-swiper").on("initialized.slider",function(t){Ecsgroup.isMobile||Ecsgroup.zoomImage(e(t.target).find(".product-image"),Ecsgroup.zoomImageOptions)}),o.$wrapper.find(".product-thumbs-sticky").length&&(o.isStickyScrolling=!1,o.$wrapper.on("click",".product-thumb:not(.active)",o.clickStickyThumbnail.bind(this)),window.addEventListener("scroll",o.scrollStickyThumbnail.bind(this),{passive:!0})),function(t){t.$selects=t.$wrapper.find(".product-variations select"),t.$items=t.$wrapper.find(".product-variations"),t.$priceWrap=t.$wrapper.find(".product-variation-price"),t.$clean=t.$wrapper.find(".product-variation-clean"),t.$btnCart=t.$wrapper.find(".btn-cart"),t.variationCheck(),t.$selects.on("change",function(e){t.variationCheck()}),t.$items.children("a:not(.disabled)").on("click",function(i){e(this).hasClass("active")||e(this).toggleClass("active").siblings().removeClass("active"),i.preventDefault(),t.variationCheck(),t.$items.parent(".product-image-swatch")&&t.swatchImage()}),t.$clean.on("click",function(e){e.preventDefault(),t.variationClean(!0)})}(this)},t.prototype.variationCheck=function(){var t=!0;this.$selects.each(function(){return this.value||(t=!1)}),this.$items.each(function(){var i=e(this);if(i.children("a:not(.size-guide)").length)return i.children(".active").length||(t=!1)}),t?this.variationMatch():this.variationClean()},t.prototype.variationMatch=function(){},t.prototype.variationClean=function(e){},t.prototype.clickStickyThumbnail=function(t){var i=this,s=e(t.currentTarget),o=(s.parent().children(".active").index(),s.index()+1);s.addClass("active").siblings(".active").removeClass("active"),this.isStickyScrolling=!0;var n=s.closest(".product-thumbs-sticky").find(".product-image-wrapper > :nth-child("+o+")");n.length&&(n=n.offset().top+10,Ecsgroup.scrollTo(n,500)),setTimeout(function(){i.isStickyScrolling=!1},300)},t.prototype.scrollStickyThumbnail=function(){var t=this;this.isStickyScrolling||t.$wrapper.find(".product-image-wrapper .product-image").each(function(){if(Ecsgroup.isOnScreen(this))return t.$wrapper.find(".product-thumbs > :nth-child("+(e(this).index()+1)+")").addClass("active").siblings().removeClass("active"),!1})},t.prototype.swatchImage=function(){var e=this.$items.find(".active img").attr("src"),t=this.$wrapper.find(".swiper-slide:first-child .product-image img"),i=this.$wrapper.find(".swiper-slide:first-child .product-thumb img");t.attr("src",e),i.attr("src",e)},Ecsgroup.productSingle=function(i){return Ecsgroup.$(i).each(function(){var i=e(this);i.is("body > *")||i.data("product-single",new t(i))}),null},Ecsgroup.call(function(){e(".swiper-container-vertical").each(function(){var t=e(this);t.data("slider").isVertical()&&t.data("slider").update()})},500)}(jQuery),function(e){function t(t){t.preventDefault();var i=e(t.currentTarget);navigator.share?navigator.share({title:i.attr("title"),url:i.attr("href")}).then(()=>{console.log("Thanks for sharing!")}).catch(e=>console.log("Sharing failed",e)):alert("Trình duyệt không hõ trợ")}function i(t){if(t.preventDefault(),"undefined"!=typeof Fancybox){var i,s,o=e(t.currentTarget),n=o.closest(".product-single"),a=o.closest(".review-image-wrap");if((i=o.closest(".review-image-wrap").length?o.closest(".review-image-wrap").find("img"):n.find(".product-single-swiper").length?n.find(".product-single-swiper .swiper-slide:not(.cloned) picture img:not(.zoomImg)"):n.find(".product-gallery-carousel").length?n.find(".product-gallery-carousel .swiper-slide:not(.cloned) picture img"):n.find(".product-image picture img")).length){s=i.map(function(){var t=e(this);return{src:t.attr("data-zoom-image"),type:"image",caption:t.attr("alt")}}).get();var r=n.find(".product-single-swiper").data("slider");r?r.activeIndex:n.find(".product-gallery .product-gallery-btn").index(o),1==a.length&&a.find("img").index(o),new Fancybox(s,{infinite:!1})}}}function s(t){if(t.preventDefault(),"undefined"!=typeof Fancybox){var i,s=e(t.currentTarget).closest(".product-single").find(".video-gallery"),o=new Array;console.log(s.val()),(i=JSON.parse(s.val())).length&&(i.map(function(e){var t={src:"https://www.youtube.com/watch?v="+e,type:"video"};o.push(t)}),new Fancybox(o,{infinite:!1}))}}function o(t){var i=e(this);i.closest(".rating-form").find("input[name=Rating]").val(i.data("val")),i.addClass("active").siblings().removeClass("active"),i.parent().addClass("selected"),i.closest(".rating-form").find("select").val(i.text()),t.preventDefault()}var n={init:function(){this.initSinglePage(),this.recommendItems()},initSinglePage:function(){Ecsgroup.zoomImage(".product-detail .product-gallery .product-image"),function(t){var i=e(".product-sticky-content"),s=i.closest(".product-single"),o=s.find(".product-gallery img").eq(0).attr("data-src"),n=s.find(".product-details .product-title").text(),a=s.find(".new-price").text(),r=s.find(".old-price").text(),c=s.find(".label-discount").text(),l='<div class="product product-list-sm mr-auto">                                            <figure class="product-media">                                            <img src="'+o+'" alt="Product" width="85" height="85" />                                            </figure>                                            <div class="product-details pt-0 pl-2 pr-2">                                            <h4 class="product-name font-weight-normal mb-1">'+n+'</h4>                                            <div class="product-price mb-0">                                            <ins class="new-price">'+a+'</ins><del class="old-price">'+r+'</del><div class="product-label label-discount">'+c+"</div></div>                                            </div></div>";null!=c&&(l='<div class="product product-list-sm mr-auto">                                            <figure class="product-media">                                            <img src="'+o+'" alt="Product" width="85" height="85" />                                            </figure>                                            <div class="product-details pt-0 pl-2 pr-2">                                            <h4 class="product-name font-weight-normal mb-1">'+n+'</h4>                                            <div class="product-price mb-0">                                            <ins class="new-price">'+a+"</ins></div>                                            </div></div>"),i.find(".product-qty-form").before(l),window.addEventListener("resize",function(){},{passive:!0})}(),Ecsgroup.backToUrl(".btn-back-url"),Ecsgroup.$body.on("click",".product-image-full",i).on("click",".product-video-viewer",s).on("click",".product-degree-viewer",function(t){t.preventDefault(t),e.fn.ThreeSixty&&(t.preventDefault(),Ecsgroup.popup({type:"inline",mainClass:"product-popupbox wm-fade product-360-popup",preloader:!1,items:{src:'<div class="product-gallery-degree">                        <div class="w-loading"><i></i></div>                        <ul class="product-degree-images"></ul>                    </div>'},callbacks:{open:function(){this.container.find(".product-gallery-degree").ThreeSixty({imagePath:"assets/images/products/video/",filePrefix:"360-",ext:".jpg",totalFrames:18,endFrame:18,currentFrame:1,imgList:this.container.find(".product-degree-images"),progress:".w-loading",height:500,width:830,navigation:!0})},beforeClose:function(){this.container.empty()}}}))}).on("click",".rating-form .rating-stars > a",o).on("click",".share-button",t).on("click",".product-checkbox",n.recommendItems)},recommendItems:function(t){var i=new Array,s=0,o=0,n=0;e('#recommend-product .product input[type="checkbox"]').each(function(){var t=e(this);if(t.prop("checked")){s+=t.data("price"),t.data("promprice")>t.data("price")?o+=t.data("promprice"):o+=t.data("price");var a={ProductId:parseInt(t.val()),Quantity:parseInt(1)};i.push(a),n+=1}}),e(".recommend-newprice").text(s.toLocaleString("vi-VN",{style:"currency",currency:"VND"})),e(".recommend-saleprice").text((o-s).toLocaleString("vi-VN",{style:"currency",currency:"VND"})),e(".recommend-number").text(n),e("#recommendproduct").val(JSON.stringify(i))},rsRecommend:function(){e('#recommend-product .bought-together-center .product input[type="checkbox"]').each(function(){e(this).prop("checked",!1)}),this.recommendItems()}};Ecsgroup.initProductSinglePage=n}(jQuery),Ecsgroup.uploadFile=function(e){if(null!=document.querySelector(e)){function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const i=document.querySelector(e);class s{constructor(e){t(this,"_addEventListeners",()=>{this._fakeInput.addEventListener("click",this._handleFakeInputClick,!1),this._realInput.addEventListener("change",this._handleRealInputChange,!1),this._removeFilesButton.addEventListener("click",this._handleRemoveFilesButtonClick,!1)}),t(this,"_handleFakeInputClick",()=>{this._chipContainer.querySelectorAll(".chip").length>0&&this._removeChips(),this._realInput.click()}),t(this,"_handleRealInputChange",e=>{this._realInput.files.length>0&&[...this._realInput.files].forEach(e=>{const t=e.name,i=s.generateId(),o=s.chipTemplate(t,i),n={name:t,id:i,chip:this._chipContainer.querySelector(`#${i}`)};this._files.push(n),console.log(this),UpdateFile(this,$(this._realInput).data("url"),o)})}),t(this,"_handleRemoveFilesButtonClick",e=>{this._realInput.files.length&&this._removeChips()}),t(this,"_removeChips",()=>{this._chipContainer.querySelectorAll(".chip"),DeleteFile(this._realvalueInput.value),this._toggleNoFile(),this._files=[],this._chipContainer.innerHTML="",this._realInput.value="",this._realvalueInput.value=""}),t(this,"_toggleNoFile",()=>{this._noFile.hidden=!this._noFile.hidden,this._removeFilesButton.hidden=!this._removeFilesButton.hidden}),this._containerElement=e,this._fakeInput=this._containerElement.querySelector("[js-fake-file-input]"),this._realInput=this._containerElement.querySelector("[js-real-file-input]"),this._realvalueInput=this._containerElement.querySelector("[js-real-value-file-input]"),this._chipContainer=this._containerElement.querySelector("[js-chip-container]"),this._noFile=this._containerElement.querySelector("[js-no-file]"),this._removeFilesButton=this._containerElement.querySelector("[js-remove-files]"),this._files=[],this._addEventListeners()}}return t(s,"chipTemplate",(e,t)=>`<span id="${t}" class="chip"><span class="chip__text">${e}</span></span>`),t(s,"generateId",()=>`chip-${(16777215*Math.random()<<0).toString(16)}`),new s(i)}},Ecsgroup.initScrollLoad=function(e,t){return new scrollLoadEcs(e,t)},Ecsgroup.fakeLoadMore=function(e,t=4){var i=1,s=$(e).children(),o=s.length,n=$(e).next(".fake-loadmore"),a=$(e).data("href");if(s.each(e=>{var i=s[e];e>=t&&$(i).hide()}),o>t)for(let e=0;e<t;++e)$(s[e]).css("display","block");else $(s).css("display","block"),n.remove();n.on("click",function(e){e.preventDefault(),i+=1;for(let e=0;e<t*i;++e)$(s[e]).css("display","block");o<t*i?n.remove():o==t*i&&n.find("a").on("click",()=>{window.location.href=a})})},jQuery,Ecsgroup.initPage=function(){Ecsgroup.countDown(".countdown")};