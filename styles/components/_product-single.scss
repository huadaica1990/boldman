/*-----------------------------------------
    Product Single Component
------------------------------------------*/

// Variable
@include set-default ( 
    ( 
        product-single: 
            ( 
                name: 
                ( 
                    margin-bottom: .9rem, 
                    font-size: 2.4rem, 
                    font-weight: $font-weight-semibold,
                    // letter-spacing: -.025em,
                    line-height: 1.6,
                ), 
                categories: 
                ( 
                    color: $grey-color, 
                    font-size: 1.3rem, 
                    font-weight: $font-weight-normal, 
                    line-height: 1,
                    // letter-spacing: 0,
                    span: 
                    ( 
                        color: $light-color 
                    ) 
                ), 
                old-price: ( 
                    font-size: 1.5rem, 
                    color: rgb(128, 128, 137) 
                ), 
                btn-cart: 
                ( 
                    height: 4.4rem, 
                ), 
                btn-product-icon:
                ( 
                    font-size: 1.6rem, 
                    width: 4.4rem, 
                    height: 4.4rem, 
                    min-width: 4.4rem 
                ), 
                ratings: 
                ( 
                    margin-bottom: 1.6rem, 
                    font-size: 1.4rem, 
                    _star-color: rgb(253, 216, 54) 
                ), 
            ) 
        ) 
    );

.product-gallery {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    position: sticky;
}
// Product nav
.product-nav {
    display: -webkit-box;
    display: -webkit-flex;
    display: -moz-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    -moz-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    margin: 0 0 0 auto;
    padding: 0;

    .product-nav-prev, .product-nav-next {
        position: relative;

        a {
            display: inline-block;
            padding: 1.1rem 0.4rem 1.3rem;
        }

        i {
            @include animation($customize: true) {
                -ms-transition: color 0.3s,background-color 0.3s,border-color 0.3s;
                -webkit-transition: color 0.3s,background-color 0.3s,border-color 0.3s;
                -moz-transition: color 0.3s,background-color 0.3s,border-color 0.3s;
                -o-transition: color 0.3s,background-color 0.3s,border-color 0.3s;
                transition: color 0.3s,background-color 0.3s,border-color 0.3s;
            };
            @include border($position: "all", $size:1px, $style: solid, $color: $border-color);
            @include border-radius($val: 50%);
            display: inline-block;
            width: 2em;
            color: $grey-color;
            line-height: calc(2em - 2px);
            text-align: center;
            font-size: 1.3rem;
        }

        &:hover {
            i {
                border-color: $primary-color;
                background-color: $primary-color;
                color: $white-color;
            }

            .product-nav-popup {
                @include transform($args: none);
                opacity: 1;
                visibility: visible;
            }
        }
    }

    .product-nav-popup {
        @include animation($customize: true) {
            -ms-transition: opacity 0.3s,transform 0.3s;
            -webkit-transition: opacity 0.3s,transform 0.3s;
            -moz-transition: opacity 0.3s,transform 0.3s;
            -o-transition: opacity 0.3s,transform 0.3s;
            transition: opacity 0.3s,transform 0.3s;
        };
        @include transform($args: scale(0.9));
        @include transform-origin($args: top);
        @include shadow($val:1px 1px 7px rgba(0,0,0,0.1));
        position: absolute;
        top: 100%;
        right: 0;
        z-index: 30;
        width: 120px;
        padding: 0 5px 9px;
        line-height: 1.5;
        text-align: center;
        background-color: $white-color;
        visibility: hidden;
        opacity: 0;

        img {
            position: relative;
            width: 100%;
            padding-top: 5px;
            background-color: $white-color;
        }

        &::before {
            @include transform($args: rotate(45deg));
            @include shadow($val:inherit);
            content: "";
            position: absolute;
            top: -0.8rem;
            right: 1rem;
            width: 1.6rem;
            height: 1.6rem;
            background-color: $white-color;
        }
    }

    .product-nav-prev .product-nav-popup {
        right: -3.4rem;

        &::before {
            right: 4.2rem;
        }
    }

    .product-nav-next .product-nav-popup {
        right: 0;
    }

    .product-name {
        position: relative;
        color: $body-color;
        font-size: 1.2rem;
        font-weight: $font-weight-normal;
        line-height: 1.3;
        padding: 1.1rem 0 0;
        margin: 0;
        background: inherit;
        z-index: 1;
        display: block;
    }
}

.product-thumbs-wrap,
.product-single-swiper {
    flex-basis: 100%;
    max-width: 100%;
}

.product-single-swiper {
    img {
        display: block;
    }

    .swiper-button-prev,
    .swiper-button-next {
        background-color: transparent;
        border: 0;
        font-size: 2rem;
    }
}

.product-image {
    position: relative;
    overflow: hidden;
}

// Product Thumbs Dots
.product-thumbs-wrap {
    position: relative;
    margin-top: 1rem;
    overflow: hidden;

    img {
        display: block;
        width: 100%;
    }
    // button {
    //     display: flex;
    //     align-items: center;
    //     justify-content: center;
    //     width: 2.5rem;
    //     border: 0;
    //     opacity: 0;
    //     transition: opacity .3s, transform .3s;
    //     z-index: 1;
    //     box-shadow: 0 0 1rem rgba(0,0,0,.1);
    //     -webkit-appearance: none;
    //     cursor: pointer;
    // }
    // &:hover button:not(.disabled) {
    //     opacity: .9;
    //     transform: none;
    // }
    // button:not(.disabled):hover {
    //     opacity: 1;
    // }
    // > button {
    //     display: none;
    // }
}

.product-thumbs-wrap button,
.product-thumbs-wrap .swiper-button-prev,
.product-thumbs-wrap .swiper-button-next {
    @include animation($customize: true) {
        -ms-transition: opacity .3s, transform .3s;
        -webkit-transition: opacity .3s, transform .3s;
        -moz-transition: opacity .3s, transform .3s;
        -o-transition: opacity .3s, transform .3s;
        transition: opacity .3s, transform .3s;
    }

    ;
    bottom: 0;
    top: auto;
    width: 2rem;
    height: 100%;
    background-color: $white-color;
    border: none;
    color: #999;
    font-size: 1.8rem;
    font-weight: $font-weight-semibold;
    opacity: 0;
}

.swiper-button-prev,
.swiper-button-next {
    &:hover {
        opacity: 1;
    }
}

.product-thumbs-wrap {
    .swiper-button-prev {
        @include transform($args: translateX(-100%));
        left: 0;
    }

    .swiper-button-next {
        @include transform($args: translateX(100%));
        left: auto;
        right: 0;
    }

    .swiper-button-disabled {
        opacity: 0;
    }

    &:hover {
        .swiper-button-prev:not(.swiper-button-disabled),
        .swiper-button-next:not(.swiper-button-disabled) {
            @include transform($args: none);
            opacity: .9;
        }
    }
}

.product-thumbs-wrap button,
.product-thumb::before {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    top: 0;
}

// Product Thumbs
.product-thumbs {
    display: -webkit-box;
    display: -webkit-flex;
    display: -moz-box;
    display: -ms-flexbox;
    display: flex;
    // transition: top .3s ease-in-out;
    // margin: 0 -.5rem;
    // width: calc(100% + 1rem);
}


.product-gallery:not(.product-gallery-vertical) {
    .swiper-slide img {
        width: 100%;
    }

    .product-thumbs:not(.swiper-wrapper) {
        -webkit-flex-wrap: nowrap;
        -ms-flex-wrap: nowrap;
        flex-wrap: nowrap;
        // overflow: hidden;
        .product-thumb {
            margin: 0;

            &::before {
                content: none;
            }
        }
        // img {
        //     width: 100%;
        // }
    }
}

// Product Thumb
.product-thumb {
    position: relative;
    // margin: 0 .5rem;
    cursor: pointer;

    &::before {
        @include animation($customize: true) {
            -ms-transition: border-color .3s;
            -webkit-transition: border-color .3s;
            -moz-transition: border-color .3s;
            -o-transition: border-color .3s;
            transition: border-color .3s;
        }

        ;
        @include border($position: "all", $size:1px, $style: solid, $color: transparent);
        content: '';
    }

    &.active::before {
        border-color: $primary-color;
    }
}

.swiper-slide-thumb-active::before {
    border-color: $primary-color;
    z-index: 1;
}

// Product Stock
.stock {
    margin-bottom: 1rem;
    font-size: 1.3rem;
    line-height: 1;
    color: #ff424e;
}

// Product Single
.product-single {
    color: inherit;

    .product-countdown-container {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        margin: -.7rem 0 1.3rem;
        font-size: 1.5rem;

        .product-countdown, label {
            white-space: nowrap;
        }

        .countdown-amount {
            font-weight: 700;
            color: $primary-color;
        }
    }

    .product-categories {
        margin-bottom: 1.1rem;
    }

    .product-point {
        margin-top: 1.1rem;
    }

    .product-title {
        @include print_css(product-single, name);
        white-space: normal;
        overflow: inherit;
        -o-text-overflow: inherit;
        text-overflow: inherit;

        a {
            color: inherit;
        }
    }

    .product-bm-wrapper {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -moz-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
    }

    .brand {
        @include border-radius($val: .5rem);
        @include border($position: "all", $size:1px, $style: solid, $color: $border-color);
        margin: 0 2rem 1rem 0;
    }

    .product-meta {
        margin-bottom: 1rem;
    }

    .product-divider {
        margin: 1.4rem 0 2rem;
    }

    .social-icon {
        margin-right: .8rem;

        &:last-child {
            margin-right: 0
        }
    }

    .product-categories,
    .product-sku,
    .product-point {
        @include print_css(product-single, categories);

        span {
            @include print_css(product-single, categories, span);

            &:not(:last-child) {
                &::after {
                    content: ',';
                    display: inline-block;
                    vertical-align: middle;
                }
            }
        }

        a {
            color: inherit;

            &:hover {
                color: $primary-color;
            }
        }
    }

    .product-price {
        margin-bottom: 1.1rem;
        font-size: 3rem;
        color: $dark-color;
        font-weight: $font-weight-semibold;
        line-height: 1.2;

        .product-label {
            @include transform($args: translateY(-2px));
            @include border-radius($val: 2px);
            @include border($position: "all", $size:1px, $style: solid, $color: #ff424e);
            margin: 0;
            padding: 0 2px;
            line-height: 18px;
            font-size: 14px;
            font-weight: $font-weight-light;
            background-color: #fff0f1;
            color: #ff424e;
            margin-left: 1rem;
        }
    }

    .new-price {
        color: #ff424e;
    }

    .old-price {
        @include print_css(product-single, old-price);
    }

    .ratings-container {
        @include print_css( product-single, ratings );
    }

    .ratings-full {
        font-weight: $font-weight-semibold;

        &::before {
            color: rgb(199, 199, 199);
        }
    }

    .ratings {
        &::before {
            @include css( color, product-single, ratings, _star-color );
        }
    }

    .ratings-full, .ratings {
        letter-spacing: .18em;
    }

    .rating-reviews {
        color: $light-color;
    }

    .product-short-desc {
        margin-bottom: 1.6rem;
        font-size: 1.3rem;
    }

    .product-form {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -moz-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        position: relative;

        .product-size {
            -webkit-box-flex: 0;
            -webkit-flex: 0 0 18rem;
            -moz-box-flex: 0;
            -ms-flex: 0 0 18rem;
            flex: 0 0 18rem;
            max-width: 18rem;
        }

        select {
            @include border($position: "all", $size:1px, $style: solid, $color: $lighter-color);
            color: $light-color;
            font-size: 1.3rem;
            max-width: none;
            width: 100%;
            padding: .88em 2rem;
        }

        label {
            display: block;
            max-width: 10rem;
            -webkit-box-flex: 0;
            -webkit-flex: 0 0 10rem;
            -moz-box-flex: 0;
            -ms-flex: 0 0 10rem;
            flex: 0 0 10rem;
            padding: 0.6rem 0;
            white-space: nowrap;
            font-size: 1.4rem;
            color: $dark-color;
            line-height: 1;
        }
    }

    .product-variations {
        -webkit-box-pack: start;
        -webkit-justify-content: flex-start;
        -moz-box-pack: start;
        -ms-flex-pack: start;
        justify-content: flex-start;
    }

    .product-variation-price {
        font-size: 3rem;
        font-weight: $font-weight-semibold;
        line-height: 1;
        margin-bottom: 1.2rem;
    }

    .product-variation-form {
        margin-bottom: 1.5rem;

        .color {
            @include border-radius($val: 50%);
            display: block;
            text-align: center;
            width: 2.6rem;
            height: 2.6rem;
            border: none;
            margin-right: 0;
            padding: 0;
            background-repeat: repeat;

            + .color {
                margin-left: .8rem;
            }

            &::before {
                content: '';
                display: inline-block;
                font-family: 'customize';
                font-size: 1.2rem;
                font-weight: $font-weight-semibold;
                letter-spacing: -.025em;
                color: $white-color;
                line-height: 2.2;
            }

            &.active {
                &::before {
                    content: '\e876';
                }
            }
        }
    }
    /*.product-size-swatch {
        margin-bottom: 2rem;
        .size {
            @include border-radius($val: 2px);
            @include border($position: "all", $size:1px, $style: solid, $color: $lighter-color);
            @include animation($customize: true) {
                -ms-transition:border-color .35s, color .35s;
                -webkit-transition:border-color .35s, color .35s;
                -moz-transition:border-color .35s, color .35s;
                -o-transition:border-color .35s, color .35s;
                transition:border-color .35s, color .35s;
            };
            display: block;
            text-align: center;
            margin-bottom: .5rem;
            padding: 0.6rem 0.8rem;
            width: auto;
            height: auto;
            line-height: 1;
            font-size: 1.2rem;
            color: $body-color;
            &.active, &:hover {
                border-color: $primary-color;
                color: $primary-color;
            }
        }
    }
    .product-image-swatch {
        margin-bottom: 2rem;
        .image {
            @include border-radius($val: .2rem);
            @include border($position: "all", $size:1px, $style: solid, $color: $border-color-light);
            @include animation($customize: true) {
                -ms-transition: border-color .3s;
                -webkit-transition: border-color .3s;
                -moz-transition: border-color .3s;
                -o-transition: border-color .3s;
                transition: border-color .3s;
            };
            margin-right: .8rem;
            overflow: hidden;
            img {
                width: 2.6rem;
                height: 2.6rem;
            }
            &.active {
                border-color: $primary-color;
            }
        }
    }*/
    .quantity,
    .btn-contact,
    .btn-cart,
    .btn-product-icon {
        @include border-radius($val: 3px);
    }

    .btn-contact,
    .btn-cart {
        -webkit-box-flex: 1;
        -webkit-flex: 1;
        -moz-box-flex: 1;
        -ms-flex: 1;
        flex: 1;
        margin-bottom: 1rem;
        padding-left: 0;
        padding-right: 0;
        min-width: 14rem;

        i {
            margin: 0 .4rem .2rem 0;
            font-size: 1.7rem;
        }

        &.disabled {
            background-color: $border-color;
            border-color: $border-color;
            color: $body-color;
            cursor: not-allowed;
        }
    }

    .btn-contact {
        background-color: #ee5253;
        border-color: #ee5253;

        &:hover {
            background-color: #ff6b6b;
            border-color: #ff6b6b;
        }
    }

    .product-qty-form {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -webkit-align-items: center;
        -moz-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 14rem;
        -moz-box-flex: 0;
        -ms-flex: 0 0 14rem;
        flex: 0 0 14rem;
        max-width: 14rem;
        margin-bottom: 1rem;
        margin-right: 2rem;

        &.disabled {
            cursor: no-drop;

            * {
                opacity: .8;
                pointer-events: none;
            }
        }
    }

    .social-links-wrapper {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -webkit-align-items: center;
        align-items: center;
        -webkit-box-align: center;
        -webkit-box-pack: center;
        margin-top: 1.3rem;

        > * {
            margin-right: 2rem;
            margin-bottom: 1rem;

            &:last-child {
                margin-right: 0;
            }
        }

        .btn-product-icon {
            width: 1.8rem;
            height: auto;
            margin-right: 1.6rem;
            margin-bottom: 0;
            font-size: 1.8rem;
            border: none;
            color: $dark-color;
            overflow: initial;
            background-color: transparent;

            &.btn-compare {
                font-size: 2rem;
            }

            &:hover {
                background-color: transparent;
                color: $primary-color;
            }

            &.added, &.added:hover {
                color: #ff424e;
            }
        }

        .divider {
            width: 1px;
            height: 1.8rem;
            background: #e1e1e1;
        }
    }

    .social-icons {
        -webkit-flex-wrap: nowrap;
        -ms-flex-wrap: nowrap;
        flex-wrap: nowrap;
    }

    .tags {
        margin-bottom: 1rem;
        font-size: 1.2rem;

        &.tags-link {
            > * {
                margin-right: .2rem;
            }

            .tag {
                font-size: inherit;
                border: none;
                padding: 0;
                margin: 0 .2rem 0 0;

                &:after {
                    content: ',';
                }

                &:last-child {
                    margin: right 0;

                    &:after {
                        display: none;
                    }
                }
            }
        }
    }

    .product-details {
        padding: 0;

        > *:last-child {
            margin-bottom: 0
        }
    }

    &.product-grid {
        .product-image-full {
            right: 2.5rem;
        }
    }
    /*.product-variation-clean {
        display: none;
        font-size: 1.2rem;
        background: #f4f4f4;
        padding: .3em 1em;
        color: $dark-color;
        position: absolute;
        top: 100%;
        margin-top: 1rem;
        z-index: 1;
    }*/
}

// Product Thumbs Sticky
.product-thumbs-sticky {
    .product-image-wrapper {
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 -webkit-calc(100% - 10rem);
        -moz-box-flex: 0;
        -ms-flex: 0 0 calc(100% - 10rem);
        flex: 0 0 calc(100% - 10rem);
        max-width: calc(100% - 10rem);
    }

    .product-thumbs-wrap {
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 9rem;
        -moz-box-flex: 0;
        -ms-flex: 0 0 9rem;
        flex: 0 0 9rem;
        max-width: 9rem;
        margin-right: 1rem;
        margin-top: 0;
    }

    .product-thumbs {
        @include animation($customize: true) {
            -ms-transition: none;
            -webkit-transition: none;
            -moz-transition: none;
            -o-transition: none;
            transition: none;
        }
    }

    .product-image {
        margin-bottom: 2rem;
    }
}

.product-gallery-vertical.product-thumbs-sticky {
    .product-thumbs-wrap {
        -webkit-box-ordinal-group: 0;
        -webkit-order: -1;
        -moz-box-ordinal-group: 0;
        -ms-flex-order: -1;
        order: -1;
    }

    .product-thumbs {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        margin: -1rem 0;
        max-width: 100%;
        bottom: auto;
    }

    .product-thumb {
        margin: 1rem 0;
    }
}

// single product
.single-product {
    .nav-top {
        > .swiper-button-prev {
            right: .5rem;
        }

        > .swiper-button-next {
            right: .2rem;
        }

        > .swiper-button-next,
        > .swiper-button-prev {
            width: 15px;
            top: -6.2rem;
            color: $body-color;
            font-size: 1.3rem;
            font-weight: $font-weight-semibold;

            &:not(.swiper-button-disabled):hover {
                color: $primary-color;
            }
        }
    }
}

@include mq("lg") {
    .product-gallery-vertical .product-thumbs-wrap:not(.swiper-container-initialized) {
        .product-thumb {
            margin-bottom: 1rem;
        }
    }

    .product-gallery-vertical {
        .product-thumbs-wrap {
            -webkit-box-ordinal-group: 0;
            -webkit-order: -1;
            -moz-box-ordinal-group: 0;
            -ms-flex-order: -1;
            order: -1;
            max-width: 9rem;
            margin: 0 1rem 0 0;

            &:hover {
                .swiper-button-prev:not(.swiper-button-disabled),
                .swiper-button-next:not(.swiper-button-disabled) {
                    opacity: .9;

                    @include animation($customize: true) {
                        -ms-transition: none;
                        -webkit-transition: none;
                        -moz-transition: none;
                        -o-transition: none;
                        transition: none;
                    }
                }
            }

            .swiper-button-prev,
            .swiper-button-next {
                display: -webkit-box;
                display: -webkit-flex;
                display: -moz-box;
                display: -ms-flexbox;
                display: flex;
                margin-top: 0;
                width: 100%;
                height: 2.5rem;
            }

            .swiper-button-prev {
                @include transform($args: translateY(-100%));
                top: 0;

                &::before {
                    content: "\e911";
                }
            }

            .swiper-button-next {
                @include transform($args: translateY(100%));
                bottom: 0;

                &::before {
                    content: "\e910";
                }
            }
        }

        .product-single-swiper {
            max-width: calc(100% - 10rem);
        }

        .product-thumbs {
            display: block;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0;
            max-width: 100%;
        }

        .product-thumb {
            padding: 0;
            height: auto;
        }
    }
}

@include mq("lg", "max") {
    .product-single {
        .product-form {
            .product-size {
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 14rem;
                -moz-box-flex: 0;
                -ms-flex: 0 0 14rem;
                flex: 0 0 14rem;
                max-width: 14rem;
            }
        }
    }
}

@include mq("md") {
    .product-single {
        .product-details {
            padding: .2rem 0 0 1rem;
        }
    }
}

@include mq("xs", "max") {
    .product-single:not(.product-popup) {
        .product-qty-form {
            margin-right: 1rem;
        }

        .product-label-group {
            top: 1rem;
            left: 1rem;
        }
    }
}
